import numpy as np
from os import listdir
from os.path import isfile, join
import matplotlib.pyplot as plt

font = {'size'   : 14}
plt.rc('font', **font)

#region/
Cp_T = [29.48    ,
30.48    ,
31.48    ,
32.48    ,
33.48    ,
34.48    ,
35.48    ,
36.48    ,
37.48    ,
38.48    ,
39.48    ,
40.48    ,
41.48    ,
42.48    ,
43.48    ,
44.48    ,
45.48    ,
46.48    ,
47.48    ,
48.48    ,
49.48    ,
50.48    ,
51.48    ,
52.48    ,
53.48    ,
54.48    ,
55.48    ,
56.48    ,
57.48    ,
58.48    ,
59.48    ,
60.48    ,
61.48    ,
62.48    ,
63.48    ,
64.48    ,
65.48    ,
66.48    ,
67.48    ,
68.48    ,
69.48    ,
70.48    ,
71.48    ,
72.48    ,
73.48    ,
74.48    ,
75.48    ,
76.48    ,
77.48    ,
78.48    ,
79.48    ,
80.48    ,
81.48    ,
82.48    ,
83.48    ,
84.48    ,
85.48    ,
86.48    ,
87.48    ,
88.48    ,
89.48    ,
90.48    ,
91.48    ,
92.48    ,
93.48    ,
94.48    ,
95.48    ,
96.48    ,
97.48    ,
98.48    ,
99.48    ,
100.48    ,
101.48    ,
102.48    ,
103.48    ,
104.48    ,
105.48    ,
106.48    ,
107.48    ,
108.48    ,
109.48    ,
110.48    ,
111.48    ,
112.48    ,
113.48    ,
114.48    ,
115.48    ,
116.48    ,
117.48    ,
118.48    ,
119.48    ,
120.48    ,
121.48    ,
122.48    ,
123.48    ,
124.48    ,
125.48    ,
126.48    ,
127.48    ,
128.48    ,
129.48    ,
130.48    ,
131.48    ,
132.48    ,
133.48    ,
134.48    ,
135.48    ,
136.48    ,
137.48    ,
138.48    ,
139.48    ,
140.48    ,
141.48    ,
142.48    ,
143.48    ,
144.48    ,
145.48    ,
146.48    ,
147.48    ,
148.48    ,
149.48    ,
150.48    ,
151.48    ,
152.48    ,
153.48    ,
154.48    ,
155.48    ,
156.48    ,
157.48    ,
158.48    ,
159.48    ,
160.48    ,
161.48    ,
162.48    ,
163.48    ,
164.48    ,
165.48    ,
166.48    ,
167.48    ,
168.48    ,
169.48    ,
170.48    ,
171.48    ,
172.48    ,
173.48    ,
174.48    ,
175.48    ,
176.48    ,
177.48    ,
178.48    ,
179.48    ,
180.48    ,
181.48    ,
182.48    ,
183.48    ,
184.48    ,
185.48    ,
186.48    ,
187.48    
]


Cp = [0.63161    ,
0.63161    ,
0.63344    ,
0.6368    ,
0.64004    ,
0.64283    ,
0.64491    ,
0.64641    ,
0.64838    ,
0.64975    ,
0.65204    ,
0.65398    ,
0.65515    ,
0.65672    ,
0.65862    ,
0.66035    ,
0.6618    ,
0.66303    ,
0.66439    ,
0.66565    ,
0.66715    ,
0.66844    ,
0.66995    ,
0.67178    ,
0.67284    ,
0.6741    ,
0.67589    ,
0.67607    ,
0.67804    ,
0.67858    ,
0.68029    ,
0.68182    ,
0.68293    ,
0.68423    ,
0.68506    ,
0.68598    ,
0.68717    ,
0.68867    ,
0.68928    ,
0.69056    ,
0.69136    ,
0.69204    ,
0.6931    ,
0.69424    ,
0.69561    ,
0.69646    ,
0.69716    ,
0.69807    ,
0.69931    ,
0.70003    ,
0.70124    ,
0.70211    ,
0.70302    ,
0.70394    ,
0.70489    ,
0.706    ,
0.70675    ,
0.70756    ,
0.70839    ,
0.70931    ,
0.71011    ,
0.7112    ,
0.71174    ,
0.7125    ,
0.71328    ,
0.71431    ,
0.71539    ,
0.71616    ,
0.71708    ,
0.71795    ,
0.7186    ,
0.71953    ,
0.72026    ,
0.72113    ,
0.72176    ,
0.72227    ,
0.72304    ,
0.72381    ,
0.72491    ,
0.72527    ,
0.72567    ,
0.72669    ,
0.72733    ,
0.72784    ,
0.72876    ,
0.72912    ,
0.72997    ,
0.73029    ,
0.73131    ,
0.73189    ,
0.73223    ,
0.73269    ,
0.73329    ,
0.7343    ,
0.73479    ,
0.73513    ,
0.73587    ,
0.73679    ,
0.73707    ,
0.73764    ,
0.73798    ,
0.73864    ,
0.73916    ,
0.73992    ,
0.7405    ,
0.74104    ,
0.74151    ,
0.74214    ,
0.74258    ,
0.74352    ,
0.74381    ,
0.74466    ,
0.74479    ,
0.7454    ,
0.74592    ,
0.74653    ,
0.74697    ,
0.74751    ,
0.74788    ,
0.74837    ,
0.74871    ,
0.7493    ,
0.75007    ,
0.75035    ,
0.7509    ,
0.75147    ,
0.75187    ,
0.75238    ,
0.75295    ,
0.75354    ,
0.7538    ,
0.75425    ,
0.75497    ,
0.75515    ,
0.75584    ,
0.75633    ,
0.75676    ,
0.75727    ,
0.75776    ,
0.75838    ,
0.75867    ,
0.75915    ,
0.75953    ,
0.76009    ,
0.76042    ,
0.76085    ,
0.76128    ,
0.7617    ,
0.76225    ,
0.76249    ,
0.76309    ,
0.76344    ,
0.76393    ,
0.76418    ,
0.7648    ,
0.76539    ,
0.7659    ,
0.7664    ,
0.76649    
]
#endregion

#region/
CTE_T=[20.088    ,
30.088    ,
40.088    ,
50.088    ,
60.088    ,
70.088    ,
80.088    ,
90.088    ,
100.088    ,
110.088    ,
120.088    ,
130.088    ,
140.088    ,
150.088    ,
160.088    ,
170.088    ,
180.088    ,
190.088    ,
200.088    ,
210.088]


CTE = [7.79E-06    ,
7.66E-06    ,
7.85E-06    ,
8.12E-06    ,
8.36E-06    ,
8.53E-06    ,
8.62E-06    ,
8.66E-06    ,
8.69E-06    ,
8.72E-06    ,
8.77E-06    ,
8.80E-06    ,
8.83E-06    ,
8.86E-06    ,
8.90E-06    ,
8.93E-06    ,
8.96E-06    ,
9.00E-06    ,
9.03E-06    ,
9.07E-06]


thermCond_T = [25.6,
50.7,
75.8,
100.5,
150.1,
200]

thermCond = [12.554,
11.708,
10.94,
10.367,
9.371,
8.601]

#endregion

path = r"C:\Users\objorkqv\cernbox\Documents\Measurements\Ferrite aga measurements\CMD10_csv.csv"
data = f=np.loadtxt(path,delimiter=',',unpack=True,usecols=[0,1,2],skiprows=1)

path2=r"E:\Ansys\MKICool_reduced_full\cooling transients, measured data\MKIcool_transients_simulated_data.csv"
MKIdata = np.double(np.loadtxt(path2,delimiter=',',unpack=True,dtype=np.unicode,usecols=[0,1,2,3,4],skiprows=2))


plt.figure()
plt.plot(Cp_T,np.multiply(Cp,1000))
plt.xlabel('Temperature [C]')
plt.ylabel('Specific heat [J/(kg*K)]')
plt.grid()
plt.xlim([np.min(Cp_T),np.max(Cp_T)])



plt.figure()
plt.plot(CTE_T,np.multiply(1e6,CTE))
plt.grid()
plt.ylabel('Coefficient of thermal expansion [10^-6/K]')
plt.xlabel('Temperature [C]')
plt.xlim([np.min(CTE_T),np.max(CTE_T)])
 
plt.figure()
plt.plot(thermCond_T,thermCond)
plt.xlabel('Temperature [C]')
plt.ylabel('Thermal conductance [W/(m*K)]')
plt.grid()
plt.xlim([np.min(thermCond_T),np.max(thermCond_T)])
 
plt.figure()
plt.plot(data[0,:],data[1,:])
plt.plot(data[0,:],data[2,:],linestyle='--')
plt.xlim([0, 1000])
plt.xlabel('Frequency [MHz]')
plt.ylabel('Relative permeability')
plt.legend(['Real','Imag'])
plt.grid()


plt.figure()
plt.plot(MKIdata[0,:],MKIdata[4,:],'k',linestyle='-',label="x 2.5")
plt.plot(MKIdata[0,:],MKIdata[3,:],'k',linestyle='--',label="x 2.0")
plt.plot(MKIdata[0,:],MKIdata[2,:],'k',linestyle='-.',label="x 1.5")
plt.plot(MKIdata[0,:],MKIdata[1,:],'k',linestyle=':',label="x 1.0")
plt.grid(color='k')
plt.legend(loc='lower right', shadow=True, fontsize=12)
plt.xlabel('Time [s]')
plt.ylabel('Temperature [$^{\circ}$ C]')
plt.xlim([np.min(MKIdata[0,:]),np.max(MKIdata[0,:])])
plt.ylim([np.min(MKIdata[4,:]),1.1*np.max(MKIdata[4,:])])
plt.tight_layout()

plt.plot()


plt.show()